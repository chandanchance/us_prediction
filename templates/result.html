<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fitness prediction - Result</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  </head>
  <body>
    <header class="header">
      <h1>Fitness prediction</h1>
    </header>

    <main class="layout-grid">
      <!-- Upper horizontal ribbon bar -->
      <section class="ribbon">
        <div>
          <strong>ID:</strong> {{ output.block_ribbon.id }}
        </div>
        <div class="ribbon-details">
          <div class="table-responsive">
            <table class="table kv-table">
              <thead>
                <tr>
                  {% for k in output.block_ribbon.retrieved.keys() %}
                  <th>{{ k }}</th>
                  {% endfor %}
                </tr>
              </thead>
              <tbody>
                <tr>
                  {% for v in output.block_ribbon.retrieved.values() %}
                  <td>{{ v }}</td>
                  {% endfor %}
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Left vertical block with two sub blocks -->
      <aside class="left-rail">
        <section class="card">
          <h3>Investigation</h3>
          <p class="muted">AI generated investigation report.</p>
        </section>
        <section class="card">
          <h3>Comments</h3>
          <p class="muted">Add comments here.</p>
        </section>
      </aside>

      <!-- Middle Upper block -->
      <section class="middle-upper card">
        <h2>Prediction</h2>
        <p>
          <strong>Is fit:</strong>
          <span class="badge {{ 'badge-success' if output.block_middle_upper.is_fit == 1 else 'badge-danger' }}">
            {{ 'Yes' if output.block_middle_upper.is_fit == 1 else 'No' }}
          </span>
        </p>
        <p>
          <strong>Key factors:</strong>
          {{ output.block_middle_upper.key_factors }}
        </p>
      </section>

      <!-- Middle Lower block with table of first 10 rows -->
      <section class="middle-lower card">
        <h2>Top 10 rows</h2>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                {% for col in output.block_middle_lower.columns %}
                <th>{{ col }}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for r in output.block_middle_lower.table_rows %}
              <tr>
                {% for col in output.block_middle_lower.columns %}
                <td>{{ r[col] }}</td>
                {% endfor %}
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </section>

      <!-- Right vertical block with narrative -->
      <aside class="right-rail card">
        <h2>Narrative</h2>
        <p>{{ output.block_right.narrative }}</p>
      </aside>
    </main>

    <footer class="footer">
      <a class="btn" href="/">Back to dataset</a>
    </footer>
  </body>
  </html>


